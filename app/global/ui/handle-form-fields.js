define([
    '$',
    'translator',
    'global/utils'
], function($, Translator, Utils) {

    var updatePlaceholder = function() {
        $('.c-form-group').find('.c-box').map(function(_, item) {
            var $item = $(item);
            var $label = $item.find('label').clone();
            $label.find('.required').remove();

            if ($label.length) {
                $item.find('input').attr('placeholder',  $label.attr('data-label').trim());
            }
        });
    };
    // Update placeholder for inputs as they are generated by scripts
    var updatePlaceholderOnAnimation = function() {
        if (event.animationName === 'inputAdded') {
            updatePlaceholder();
        }
    };

    var inputsHandler = function() {
        document.addEventListener('animationStart', updatePlaceholderOnAnimation);
        document.addEventListener('webkitAnimationStart', updatePlaceholderOnAnimation);
    };

    return {
        inputsHandler: inputsHandler,
        updatePlaceholder: updatePlaceholder
    };
});
